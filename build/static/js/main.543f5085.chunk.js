(this["webpackJsonpsmp-vis-react"]=this["webpackJsonpsmp-vis-react"]||[]).push([[0],{1:function(e,t,n){e.exports={Controls:"Controls_Controls__N41_2",VisualizeButton:"Controls_VisualizeButton__DFWzR",Hide:"Controls_Hide__2Wc18",Visualizing:"Controls_Visualizing__2504b",TitleContainer:"Controls_TitleContainer__2dqEA",ButtonRow:"Controls_ButtonRow__mGLvz",Button:"Controls_Button__uTsZA"}},10:function(e,t,n){e.exports={App:"App_App__3QZzZ"}},11:function(e,t,n){e.exports={CardRow:"CardRow_CardRow__2jD79"}},15:function(e,t,n){e.exports=n(33)},2:function(e,t,n){e.exports={Card:"PersonCard_Card__3dpnY",CardRed:"PersonCard_CardRed__3UT9O",CardBlue:"PersonCard_CardBlue__30Gxo",CardInner:"PersonCard_CardInner__1m1vJ",AvatarImage:"PersonCard_AvatarImage__3XWg9",CardName:"PersonCard_CardName__2jhdJ",OrderList:"PersonCard_OrderList__1EThk"}},20:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),l=(n(20),n(4)),u=n(6),c=n(10),s=n.n(c),d=n(11),m=n.n(d),f=n(2),p=n.n(f),h=n(12),_=function(e){return r.a.createElement("div",null,e.name)},C=n(13),E=n.n(C),v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{items:e.data,itemHeight:30,tapDelay:100,onReorder:function(t){return e.update(t,e.id)}},r.a.createElement(_,null)))},b=function(e){var t=Object(a.useMemo)((function(){return r.a.createElement(h.a,{clothingColor:e.color,clothing:"shirt"})}),[e.color]),n=[p.a.Card,e.id];return"red"===e.color?n.push(p.a.CardRed):n.push(p.a.CardBlue),r.a.createElement("div",{className:n.join(" ")},r.a.createElement("h3",{className:p.a.CardName},"Person ",e.number),r.a.createElement("div",{className:p.a.CardInner},r.a.createElement("div",{className:p.a.AvatarImage},t),r.a.createElement("div",{className:p.a.OrderList},r.a.createElement(v,{id:e.id,data:e.data,key:Math.random(),update:e.update}))))},w=function(e){return r.a.createElement("div",{className:m.a.CardRow},e.prefData.map((function(t,n){var a=t.map((function(e){return{id:e,name:"Person "+(e+1)}})),o=e.top?n:n+5;return r.a.createElement(b,{data:a,id:o,key:n,number:n+1,color:e.color,update:e.update})})))},g=n(14),O=n.n(g),j=n(1),N=n.n(j),R=function(e){var t=[N.a.Controls];return e.hide&&t.push(N.a.Hide),r.a.createElement("div",{className:t.join(" ")},r.a.createElement("div",{className:N.a.TitleContainer},r.a.createElement("h3",null,r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Stable_marriage_problem",target:"_blank",rel:"noopener noreferrer"},"Stable Matching")," ","Visualizer"),r.a.createElement("a",{href:"https://hursharora.github.io/",target:"_blank",rel:"noopener noreferrer"},"Hursh arora")),r.a.createElement("div",{className:N.a.ButtonRow},r.a.createElement("button",{onClick:e.randomize,className:N.a.Button},"Randomize Preferences"),r.a.createElement("button",{onClick:e.reset,className:N.a.Button},"Worst Case Preferences")),r.a.createElement("button",{onClick:e.clear,className:N.a.Button},"Clear Lines"),r.a.createElement("button",{className:N.a.VisualizeButton,onClick:e.visualize},"Visualize!"))},z=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e},k=function(){for(var e=[],t=0;t<10;t++){for(var n=[],a=0;a<5;a++)n.push(a);e.push(z(n))}return e},y=function(e,t){switch(t.type){case"UPDATE":var n=Object(u.a)(e);return n[t.id]=t.updated,n;case"RANDOMIZE":return k();case"RESET":return function(){for(var e=[],t=0;t<10;t++){for(var n=[],a=0;a<5;a++)n.push(a);e.push(n)}return e}();default:throw new Error("Invalid action type")}},B=function(){var e=Object(a.useReducer)(y,[],k),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(!1),c=Object(l.a)(i,2),d=c[0],m=c[1],f=Object(a.useState)([window.innerWidth,window.innerHeight]),p=Object(l.a)(f,2)[1],h=Object(a.useState)([null,null,null,null,null]),_=Object(l.a)(h,2),C=_[0],E=_[1];Object(a.useEffect)((function(){window.addEventListener("resize",(function(){p([window.innerWidth,window.innerHeight])}))}),[]);var v=function(e,t){for(var n=[],a=0;a<5;a++)n.push(e[a].id);o({type:"UPDATE",id:t,updated:n})},b=function(){E([null,null,null,null,null])},g=function(){var e=[null,null,null,null,null],t=Object(u.a)(n);t.unshift(5),fetch("/smp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){b(),m(!0),j(t,0,null,e)})).catch((function(e){return console.log(e)}))},j=function e(t,n,a,r){var o=Object(u.a)(r),i=t[n];if(" "!==i[1]){var l,c;if("M"===i[0])l=parseInt(i[6]),c=parseInt(i[28])+5,o[l]=-1*c;else if("C"===i[2])o[a]=-1*o[a];else if("J"===i[2])o[a]=null;else{var s=-1*o[a];(o=o.map((function(e){return e===s?null:e})))[a]=s}E(o),setTimeout((function(){return e(t,n+1,l,o)}),1e3)}else m(!1)},N=[];C.forEach((function(e,t){e&&N.push(r.a.createElement(O.a,{from:t.toString(),to:Math.abs(e).toString(),delay:!0,zIndex:-1,fromAnchor:"bottom center",toAnchor:"top center",key:t,borderStyle:e<0?"dashed":"solid"}))}));var z=Object(a.useMemo)((function(){return r.a.createElement(w,{prefData:n.slice(0,5),color:"blue",update:v,top:!0})}),[n]),B=Object(a.useMemo)((function(){return r.a.createElement(w,{prefData:n.slice(5,10),color:"red",update:v})}),[n]);return r.a.createElement(r.a.Fragment,null,N,r.a.createElement("div",{className:s.a.App},z,r.a.createElement(R,{randomize:function(){return o({type:"RANDOMIZE"})},reset:function(){return o({type:"RESET"})},visualize:function(){return g()},clear:function(){return b()},hide:d}),B))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.543f5085.chunk.js.map